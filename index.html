<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta http-equiv="Cache-Control" content="max-age=86400, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <script>
        (function () {
            try {
                const themeCookie = document.cookie.match(/;?\s*theme=([^;]*)/);
                let theme = themeCookie ? themeCookie[1] : null;
                if (!theme) {
                    const hour = new Date().getHours();
                    theme = (hour >= 20 || hour < 8) ? 'dark' : 'light';
                }
                if (theme === 'dark') {
                    document.documentElement.classList.add('dark-theme');
                }
            } catch (e) { }
        })();
    </script>

    <script>
        (function () {
            const today = new Date();
            const supabase = today.getFullYear();
            const mm = String(today.getMonth() + 1).padStart(2, '0');
            const dd = String(today.getDate()).padStart(2, '0');
            const version = `${supabase}${mm}${dd}`;

            // 需要进行缓存破坏处理的本地资源文件
            const localAssets = [
                { selector: 'link[href="theme.css"]', attribute: 'href' },
                { selector: 'link[href="style.css"]', attribute: 'href' },
                { selector: 'script[src="./script.js"]', attribute: 'src' },
            ];

            // 延迟执行，确保DOM元素已加载
            document.addEventListener('DOMContentLoaded', function () {
                localAssets.forEach(asset => {
                    const element = document.querySelector(asset.selector);
                    if (element) {
                        const currentValue = element.getAttribute(asset.attribute);
                        // 避免重复添加版本号
                        if (currentValue && !currentValue.includes('?v=')) {
                            element.setAttribute(asset.attribute, `${currentValue}?v=${version}`);
                        }
                    }
                });
            });
        })();
    </script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-LPVF61FMD9"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-LPVF61FMD9', { cookie_flags: 'SameSite=None;Secure' });
    </script>
    <script>
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?d9d317ef382dafc61c3891f01c561672";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Heroplan英雄资料库</title>
    <meta name="description"
        content="Heroplan是為《帝國與謎題 / 帝国与谜题》(Empires & Puzzles)玩家打造的終極英雄資料庫(资料库)。快速查詢(查询)和比較(比较)所有英雄的詳細數據(详细数据)、特殊技能、家族加成和攻略信息。">
    <meta name="keywords"
        content="帝国与谜题, 帝國與謎題, Empires & Puzzles, 英雄, 攻略, 英雄资料, 英雄資料, 英雄数据, 英雄數據, Heroplan, SilverMan,奈托, Juno">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://heroplan.github.io/" />
    <link rel="stylesheet" href="https://s1.hdslb.com/bfs/static/jinkela/long/font/medium.css"
        onerror="this.onerror=null;this.href='https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap';">
    <link rel="stylesheet" href="theme.css">
    <link rel="stylesheet" href="style.css">
</head>

<body class="js-loading">

    <div id="page-loader-overlay">
        <div class="loader-spinner"></div>
    </div>

    <div class="main-container">
        <header>
            <div class="header-top-row">
                <h1 data-lang-key="headerTitle"><a href=".">《帝国与谜题》英雄浏览器</a></h1>
                <div class="header-buttons">
                    <a href="calendar.jpg" target="_blank" class="theme-toggle-btn" title="查看日历">
                        <span>📅</span>
                    </a>
                    <button id="theme-toggle-btn" class="theme-toggle-btn" title="切换日间/夜间模式">
                        <span class="sun-icon">☀️</span>
                        <span class="moon-icon">🌙</span>
                    </button>
                    <div class="lang-selector-container">
                        <button id="lang-select-btn" class="lang-toggle-btn" title="切换语言">
                            <span>🌐</span>
                        </button>
                        <div id="lang-options" class="hidden">
                            <a href="#" class="lang-option" data-lang="cn">简体中文</a>
                            <a href="#" class="lang-option" data-lang="tc">繁體中文</a>
                            <a href="#" class="lang-option" data-lang="en">English</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="header-info-container">
                <div class="header-info-content">
                    <span><span data-lang-key="poweredBy">由</span> <a href="https://heroplan.io" target="_blank"
                            rel="noopener noreferrer"><strong
                                style="color: var(--md-sys-color-primary);">Heroplan.io</strong></a> <span
                            data-lang-key="driven">驱动</span></span>
                    <span><span data-lang-key="sponsoredBy">赞助:</span> <strong
                            style="color: var(--md-sys-color-error);">SilverMan,奈托</strong></span>
                    <span><span data-lang-key="translatedBy">译者制作</span> <strong
                            style="color: var(--md-sys-color-tertiary);">Juno</strong></span>
                </div>
                <div class="header-info-footer">
                    <span data-lang-key="footerInfo">英雄数据持续更新 | 简繁中文版</span>
                </div>
            </div>
            <p id="last-updated"></p>
        </header>

        <section class="seo-text-hidden">
            <h2>帝国与谜题英雄数据库</h2>
            <p>欢迎使用 Heroplan
                <strong>《帝国与谜题》英雄资料</strong>查询平台。我们提供最新、最全面的<strong>英雄数据</strong>，包括英雄的星级、颜色、法速、职业、家族以及详细的<strong>特殊技能</strong>和被动技能说明。你可以使用强大的筛选功能，快速找到你需要的<strong>英雄攻略</strong>信息。
            </p>
        </section>



        <div id="results-wrapper">
            <div class="results-header">
                <h3 id="results-count"></h3>
            </div>
            <div id="results-table-container">
                <table class="manual-table">
                    <thead>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div id="modal-overlay" class="hidden"></div>
    <div id="modal" class="hidden">
        <div id="modal-content"></div>
    </div>

    <div id="filters-modal-overlay" class="hidden"></div>
    <div id="filters-modal" class="hidden">
        <div id="filters-modal-content">
            <div class="filters-modal-header">
                <h2 data-lang-key="filterHeroes">筛选英雄</h2>
                <button id="close-filters-modal-btn" class="close-btn" title="关闭">❌</button>
            </div>
            <div class="filters-grid">
                <div class="filter-card">
                    <div class="filter-header" id="standard-filters-header">
                        <div class="filter-title-container">
                            <h2 data-lang-key="standardFilters">标准筛选</h2>
                        </div>
                        <button class="toggle-button" data-target="standard-filters-content">▼</button>
                    </div>
                    <div id="standard-filters-content" class="filter-content collapsed">
                        <div class="filter-item"><label for="name-input" data-lang-key="nameLabel">名称:</label><input
                                type="text" id="name-input" data-lang-key-placeholder="namePlaceholder"
                                placeholder="输入英雄名称"></div>
                        <div class="filter-item"><label for="star-select" data-lang-key="starLabel">星级:</label><select
                                id="star-select"></select></div>
                        <div class="filter-item"><label for="color-select" data-lang-key="colorLabel">颜色:</label><select
                                id="color-select"></select></div>
                        <div class="filter-item"><label for="speed-select" data-lang-key="speedLabel">法速:</label><select
                                id="speed-select"></select></div>
                        <div class="filter-item"><label for="class-select" data-lang-key="classLabel">职业:</label><select
                                id="class-select"></select></div>
                        <div class="filter-item"><label for="family-select"
                                data-lang-key="familyLabel">家族:</label><select id="family-select"></select></div>
                        <div class="filter-item"><label for="source-select"
                                data-lang-key="sourceLabel">起源:</label><select id="source-select"></select></div>
                        <div class="filter-item"><label for="aetherpower-select"
                                data-lang-key="aetherPowerLabel">以太力量:</label><select id="aetherpower-select"></select>
                        </div>
                        <div class="filter-item">
                            <label for="release-date-type" data-lang-key="filterBy">筛选:</label>
                            <select id="release-date-type" style="flex-grow: 1;">
                                <option value="all" data-lang-key="all">全部</option>
                                <option value="hero" data-lang-key="hero">英雄</option>
                                <option value="skin" data-lang-key="skin">服装</option>
                                <option value="favorites" data-lang-key="favorites">收藏</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="filter-card">
                    <div class="filter-header" id="advanced-filters-header">
                        <div class="filter-title-container">
                            <h2 data-lang-key="advancedFilters">高级筛选</h2>
                            <button id="advanced-filter-help-btn" class="help-btn" title="筛选语法说明">?</button>
                        </div>
                        <button class="toggle-button" data-target="advanced-filters-content">▼</button>
                    </div>
                    <div id="advanced-filters-content" class="filter-content collapsed">
                        <div class="filter-item">
                            <label for="skill-type-source-select" data-lang-key="skillTypeSourceLabel">技能类别来源:</label>
                            <div class="input-with-help">
                                <select id="skill-type-source-select">
                                    <option value="both" data-lang-key="sourceBoth">Both</option>
                                    <option value="heroplan" data-lang-key="sourceHeroplan">Heroplan.io</option>
                                    <option value="nynaeve" data-lang-key="sourceNynaeve">By nynaeve</option>
                                </select>
                                <button id="skill-type-help-btn" class="help-btn" title="技能类别来源说明">?</button>
                            </div>
                        </div>
                        <div class="filter-item"><label for="type-input"
                                data-lang-key="skillTypeLabel">特殊技能类别:</label><input type="text" id="type-input"
                                data-lang-key-placeholder="skillTypePlaceholder" placeholder="例如：增益,异常,治疗"></div>
                        <div class="filter-item"><label for="effects-input"
                                data-lang-key="skillTextLabel">特殊技能文本:</label><input type="text" id="effects-input"
                                placeholder=""></div>
                        <div class="filter-item"><label for="passives-input"
                                data-lang-key="passiveSkillLabel">被动技能文本:</label><input type="text" id="passives-input"
                                placeholder=""></div>

                        <div
                            style="border-top: 1px dashed var(--md-sys-color-outline); margin-top: 1rem; padding-top: 1rem;">
                            <div class="filter-item">
                                <label data-lang-key="oneClickMaxEventLabel">一键满级活动日期:</label>
                                <div class="input-with-right-button">
                                    <span id="one-click-max-date-display" class="date-display-box"></span>
                                    <button id="filter-hero-730-btn" class="action-button-right"
                                        data-lang-key="filterButtonLabel">筛选</button>
                                </div>
                            </div>
                            <div class="filter-item">
                                <label data-lang-key="purchaseCostumeEventLabel">购买服装活动日期:</label>
                                <div class="input-with-right-button">
                                    <span id="purchase-costume-date-display" class="date-display-box"></span>
                                    <button id="filter-costume-548-btn" class="action-button-right"
                                        data-lang-key="filterButtonLabel">筛选</button>
                                </div>
                            </div>
                        </div>
                        <div class="stat-filter-grid">
                            <div class="filter-item-compact">
                                <label for="power-input" data-lang-key="minPower">战力</label>
                                <input type="number" id="power-input" min="0" value="">
                            </div>
                            <div class="filter-item-compact">
                                <label for="attack-input" data-lang-key="minAttack">攻击</label>
                                <input type="number" id="attack-input" min="0" value="">
                            </div>
                            <div class="filter-item-compact">
                                <label for="defense-input" data-lang-key="minDefense">防御</label>
                                <input type="number" id="defense-input" min="0" value="">
                            </div>
                            <div class="filter-item-compact">
                                <label for="health-input" data-lang-key="minHealth">生命</label>
                                <input type="number" id="health-input" min="0" value="">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="filter-actions">
                <button id="open-favorites-btn" class="action-button" data-lang-key="openFavorites">打开收藏</button>
                <button id="share-favorites-btn" class="action-button" data-lang-key="shareFavorites">分享收藏</button>
                <button id="reset-filters-btn" class="action-button" data-lang-key="resetFilters">重置筛选</button>
            </div>
        </div>
    </div>

    <div id="help-modal-overlay" class="hidden"></div>
    <div id="help-modal" class="hidden"></div>
    <div id="skill-type-help-modal-overlay" class="hidden"></div>
    <div id="skill-type-help-modal" class="hidden"></div>

    <div class="floating-action-buttons">
        <button id="open-filters-btn" title="打开筛选">🔍</button>
    </div>

    <script src="./language.js" defer></script>
    <script src="./script.js" defer></script>
    <script src="./lz-string.min.js" defer></script>
</body>
<footer>
    <div>
        <p><span data-lang-key="footerGameName">《帝国与谜题》</span><span
                style="color: var(--md-sys-color-tertiary-container);">(Empires & Puzzles)</span> <span
                data-lang-key="footerPlatform">英雄数据查询平台</span></p>
        <p class="footer-credit" data-lang-key="footerCredit">© 2025 heroplan.github.io | 非官方资料站</p>
    </div>
</footer>

</html>